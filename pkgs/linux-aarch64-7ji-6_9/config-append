# some fix up appended to config-7ji
# run make defconfig again to generate config file

# usb
CONFIG_USB_DWC3=y
CONFIG_USB_DWC3_DUAL_ROLE=y

# Network
CONFIG_IPV6=m
CONFIG_IPV6_SIT=m
CONFIG_DUMMY=m

# rk3399 emmc 
CONFIG_MMC_SDHCI_OF_ARASAN=y

# fix wrong max cpu numbers
CONFIG_NR_CPUS=6

#nixos
CONFIG_FW_LOADER_COMPRESS=y
CONFIG_FW_LOADER_COMPRESS_ZSTD=y
CONFIG_EROFS_FS=y
CONFIG_BTRFS_FS=y
CONFIG_AUTOFS_FS=y

#efi
CONFIG_EFI=y
CONFIG_EFI_CAPSULE_LOADER=y
CONFIG_FB_EFI=y
CONFIG_RTC_DRV_EFI=y
CONFIG_EFIVAR_FS=m
CONFIG_DMIID=y

# usb net
CONFIG_USBNET=y
CONFIG_USB_NET_QMI_WWAN=m
CONFIG_USB_NET_CDC_MBIM=m

# # options for nixos-vm

# virtiofs
CONFIG_PCI=y
CONFIG_VIRTIO_MENU=y
CONFIG_VIRTIO_PCI=m
CONFIG_VIRTIO_MMIO=m
CONFIG_VIRTIO_BLK=m
CONFIG_VIRTIO_BALLOON=m
CONFIG_NET_9P=y
CONFIG_9P_FS=m
CONFIG_NET_9P_VIRTIO=m
#acpi
CONFIG_ACPI=y
#serial
CONFIG_SERIAL_AMBA_PL011=y
CONFIG_SERIAL_AMBA_PL011_CONSOLE=y